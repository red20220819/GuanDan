/* ğŸ¨ CSSå˜é‡ç³»ç»Ÿ - æ¼è›‹æ¸¸æˆè®¾è®¡ä»¤ç‰Œ */

/* =======================================
   ROOT VARIABLES - å…¨å±€è®¾è®¡å˜é‡
   ======================================= */

:root {
  /* é¢œè‰²ç³»ç»Ÿ - åŸºäºHSLè‰²å½©ç©ºé—´ä¾¿äºè°ƒæ•´ */

  /* ä¸»è‰²è°ƒ */
  --color-primary-hue: 210;
  --color-primary-saturation: 50%;
  --color-primary-lightness: 40%;

  --color-primary: hsl(var(--color-primary-hue), var(--color-primary-saturation), var(--color-primary-lightness));
  --color-primary-light: hsl(var(--color-primary-hue), var(--color-primary-saturation), calc(var(--color-primary-lightness) + 15%));
  --color-primary-dark: hsl(var(--color-primary-hue), var(--color-primary-saturation), calc(var(--color-primary-lightness) - 15%));

  /* æ¬¡è¦è‰²è°ƒ */
  --color-secondary-hue: 145;
  --color-secondary-saturation: 63%;
  --color-secondary-lightness: 49%;

  --color-secondary: hsl(var(--color-secondary-hue), var(--color-secondary-saturation), var(--color-secondary-lightness));
  --color-secondary-light: hsl(var(--color-secondary-hue), var(--color-secondary-saturation), calc(var(--color-secondary-lightness) + 15%));
  --color-secondary-dark: hsl(var(--color-secondary-hue), var(--color-secondary-saturation), calc(var(--color-secondary-lightness) - 15%));

  /* ä¸­æ€§è‰²è°ƒ */
  --color-neutral-100: hsl(210, 20%, 98%);
  --color-neutral-200: hsl(210, 16%, 93%);
  --color-neutral-300: hsl(210, 12%, 85%);
  --color-neutral-400: hsl(210, 10%, 70%);
  --color-neutral-500: hsl(210, 8%, 55%);
  --color-neutral-600: hsl(210, 12%, 40%);
  --color-neutral-700: hsl(210, 16%, 25%);
  --color-neutral-800: hsl(210, 20%, 15%);
  --color-neutral-900: hsl(210, 24%, 10%);

  /* åŠŸèƒ½è‰²è°ƒ */
  --color-success: hsl(145, 63%, 49%);
  --color-warning: hsl(35, 92%, 55%);
  --color-error: hsl(0, 84%, 60%);
  --color-info: hsl(205, 82%, 61%);

  /* æ¸¸æˆç‰¹å®šé¢œè‰² */
  --color-game-bg-start: hsl(210, 29%, 24%);
  --color-game-bg-end: hsl(145, 63%, 42%);
  --color-table-felt: hsl(145, 40%, 35%);
  --color-table-border: hsl(210, 13%, 30%);

  /* ç©å®¶é¢œè‰² */
  --color-player-north: hsl(280, 60%, 60%);
  --color-player-south: hsl(210, 80%, 55%);
  --color-player-east: hsl(0, 75%, 55%);
  --color-player-west: hsl(45, 85%, 55%);

  /* ç‰Œé¢é¢œè‰² */
  --color-card-red: hsl(0, 70%, 45%);
  --color-card-black: hsl(210, 10%, 20%);
  --color-card-bg: hsl(45, 20%, 95%);
  --color-card-border: hsl(210, 15%, 80%);
  --color-card-shadow: hsla(210, 20%, 20%, 0.3);

  /* =======================================
     TYPOGRAPHY SYSTEM - å­—ä½“ç³»ç»Ÿ
     ======================================= */

  /* å­—ä½“æ— */
  --font-family-primary: 'Segoe UI', 'Microsoft YaHei', 'å¾®è½¯é›…é»‘', system-ui, -apple-system, sans-serif;
  --font-family-mono: 'Fira Code', 'Consolas', 'Monaco', monospace;
  --font-family-icon: 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif;

  /* å­—ä½“å¤§å° - ä½¿ç”¨clampå®ç°æµä½“æ’ç‰ˆ */
  --font-size-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
  --font-size-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
  --font-size-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --font-size-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
  --font-size-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  --font-size-2xl: clamp(1.5rem, 1.3rem + 1vw, 1.875rem);
  --font-size-3xl: clamp(1.875rem, 1.6rem + 1.375vw, 2.25rem);
  --font-size-4xl: clamp(2.25rem, 1.9rem + 1.75vw, 3rem);

  /* å­—é‡ */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* è¡Œé«˜ */
  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;

  /* =======================================
     SPACING SYSTEM - é—´è·ç³»ç»Ÿ
     ======================================= */

  /* åŸºç¡€é—´è·å•ä½ - ä½¿ç”¨8pxç½‘æ ¼ç³»ç»Ÿ */
  --spacing-unit: 0.5rem; /* 8px */

  --space-0: 0;
  --space-1: calc(var(--spacing-unit) * 0.5);   /* 4px */
  --space-2: calc(var(--spacing-unit) * 1);     /* 8px */
  --space-3: calc(var(--spacing-unit) * 1.5);   /* 12px */
  --space-4: calc(var(--spacing-unit) * 2);     /* 16px */
  --space-5: calc(var(--spacing-unit) * 2.5);   /* 20px */
  --space-6: calc(var(--spacing-unit) * 3);     /* 24px */
  --space-8: calc(var(--spacing-unit) * 4);     /* 32px */
  --space-10: calc(var(--spacing-unit) * 5);    /* 40px */
  --space-12: calc(var(--spacing-unit) * 6);    /* 48px */
  --space-16: calc(var(--spacing-unit) * 8);    /* 64px */
  --space-20: calc(var(--spacing-unit) * 10);   /* 80px */
  --space-24: calc(var(--spacing-unit) * 12);   /* 96px */

  /* =======================================
     CARD SYSTEM - ç‰Œé¢å°ºå¯¸ç³»ç»Ÿ
     ======================================= */

  /* åŸºç¡€ç‰Œé¢å°ºå¯¸ - ä¼˜åŒ–ä¸ºæ›´ç´§å‡‘ */
  --card-width: 50px;
  --card-height: 70px;
  --card-border-radius: 6px;
  --card-border-width: 1px;

  /* å“åº”å¼ç‰Œé¢å°ºå¯¸ */
  --card-width-sm: 40px;
  --card-height-sm: 56px;

  --card-width-xs: 32px;
  --card-height-xs: 45px;

  --card-width-lg: 60px;
  --card-height-lg: 84px;

  /* ç‰Œé¢é—´è· - æ”¯æŒæ›´ç´§å¯†å †å  */
  --card-gap: 6px;
  --card-gap-sm: 3px;
  --card-gap-lg: 8px;
  --card-overlap: -38px; /* å—æ–¹ç©å®¶æ‰‹ç‰Œé‡å é—´è· - è¿›ä¸€æ­¥ç¼©å° */
  --card-overlap-ai: -40px; /* AIç©å®¶æ‰‹ç‰Œé‡å é—´è· */

  /* ç‰Œé¢åŠ¨ç”» */
  --card-transition-duration: 0.3s;
  --card-transition-timing: cubic-bezier(0.4, 0, 0.2, 1);

  /* =======================================
     ANIMATION SYSTEM - åŠ¨ç”»ç³»ç»Ÿ
     ======================================= */

  /* åŠ¨ç”»æ—¶é•¿ */
  --duration-instant: 0.1s;
  --duration-fast: 0.2s;
  --duration-normal: 0.3s;
  --duration-slow: 0.5s;
  --duration-slower: 0.8s;

  /* åŠ¨ç”»ç¼“åŠ¨å‡½æ•° */
  --ease-linear: linear;
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* é€šç”¨åŠ¨ç”» */
  --animation-fade-in: fadeIn var(--duration-normal) var(--ease-out);
  --animation-slide-up: slideUp var(--duration-normal) var(--ease-out);
  --animation-scale-in: scaleIn var(--duration-fast) var(--ease-out);

  /* =======================================
     LAYOUT SYSTEM - å¸ƒå±€ç³»ç»Ÿ
     ======================================= */

  /* å®¹å™¨å°ºå¯¸ */
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
  --container-2xl: 1536px;

  /* å“åº”å¼æ–­ç‚¹ */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;

  /* å¸ƒå±€é—´è· */
  --layout-padding: var(--space-4);
  --layout-gap: var(--space-6);

  /* =======================================
     SHADOW SYSTEM - é˜´å½±ç³»ç»Ÿ
     ======================================= */

  /* åŸºç¡€é˜´å½± */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-base: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

  /* æ¸¸æˆç‰¹å®šé˜´å½± */
  --shadow-card: 0 4px 8px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
  --shadow-card-hover: 0 8px 16px rgba(0, 0, 0, 0.2), 0 4px 8px rgba(0, 0, 0, 0.15);
  --shadow-button: 0 4px 15px rgba(0, 0, 0, 0.2);
  --shadow-button-hover: 0 8px 24px rgba(0, 0, 0, 0.3);

  /* =======================================
     BORDER SYSTEM - è¾¹æ¡†ç³»ç»Ÿ
     ======================================= */

  /* åœ†è§’ */
  --radius-none: 0;
  --radius-sm: 0.125rem;   /* 2px */
  --radius-base: 0.25rem;  /* 4px */
  --radius-md: 0.375rem;   /* 6px */
  --radius-lg: 0.5rem;     /* 8px */
  --radius-xl: 0.75rem;    /* 12px */
  --radius-2xl: 1rem;      /* 16px */
  --radius-3xl: 1.5rem;    /* 24px */
  --radius-full: 9999px;

  /* è¾¹æ¡†å®½åº¦ */
  --border-width-0: 0;
  --border-width-1: 1px;
  --border-width-2: 2px;
  --border-width-4: 4px;

  /* =======================================
     Z-INDEX SYSTEM - å±‚çº§ç³»ç»Ÿ
     ======================================= */

  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;

  /* æ¸¸æˆç‰¹å®šå±‚çº§ */
  --z-game-table: 1;
  --z-game-ui: 100;
  --z-game-modal: 200;
  --z-game-tooltip: 300;

  /* =======================================
     ACCESSIBILITY - å¯è®¿é—®æ€§
     ======================================= */

  /* ç„¦ç‚¹æ ·å¼ */
  --focus-ring-width: 2px;
  --focus-ring-color: var(--color-primary);
  --focus-ring-offset: 2px;

  /* æœ€å°è§¦æ‘¸ç›®æ ‡ */
  --min-touch-target: 44px;

  /* è‰²å½©å¯¹æ¯”åº¦ - WCAGæ ‡å‡† */
  --contrast-min-ratio: 4.5; /* AAçº§æ ‡å‡† */
  --contrast-enhanced-ratio: 7; /* AAAçº§æ ‡å‡† */
}

/* =======================================
   DARK MODE VARIABLES - æš—è‰²æ¨¡å¼å˜é‡
   ======================================= */

@media (prefers-color-scheme: dark) {
  :root {
    /* æš—è‰²æ¨¡å¼é¢œè‰²è°ƒæ•´ */
    --color-neutral-100: hsl(210, 20%, 10%);
    --color-neutral-200: hsl(210, 16%, 15%);
    --color-neutral-300: hsl(210, 12%, 25%);
    --color-neutral-400: hsl(210, 10%, 40%);
    --color-neutral-500: hsl(210, 8%, 55%);
    --color-neutral-600: hsl(210, 12%, 70%);
    --color-neutral-700: hsl(210, 16%, 85%);
    --color-neutral-800: hsl(210, 20%, 90%);
    --color-neutral-900: hsl(210, 24%, 95%);

    /* æ¸¸æˆèƒŒæ™¯æš—è‰²è°ƒ */
    --color-game-bg-start: hsl(210, 29%, 15%);
    --color-game-bg-end: hsl(145, 40%, 25%);
    --color-table-felt: hsl(145, 30%, 25%);
    --color-table-border: hsl(210, 13%, 20%);

    /* é˜´å½±è°ƒæ•´ */
    --shadow-card: 0 4px 8px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
    --shadow-card-hover: 0 8px 16px rgba(0, 0, 0, 0.5), 0 4px 8px rgba(0, 0, 0, 0.4);
  }
}

/* =======================================
   RESPONSIVE VARIABLES - å“åº”å¼å˜é‡
   ======================================= */

/* æ‰‹æœºç«¯å˜é‡ */
@media (max-width: 480px) {
  :root {
    /* å­—ä½“å¤§å°è°ƒæ•´ */
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 0.9375rem;
    --font-size-lg: 1rem;
    --font-size-xl: 1.125rem;
    --font-size-2xl: 1.25rem;
    --font-size-3xl: 1.5rem;
    --font-size-4xl: 1.875rem;

    /* ç‰Œé¢å°ºå¯¸ */
    --card-width: var(--card-width-xs);
    --card-height: var(--card-height-xs);
    --card-gap: var(--card-gap-sm);

    /* é—´è·è°ƒæ•´ */
    --layout-padding: var(--space-3);
    --layout-gap: var(--space-4);

    /* æœ€å°è§¦æ‘¸ç›®æ ‡ */
    --min-touch-target: 48px; /* ç§»åŠ¨ç«¯æ›´å¤§çš„è§¦æ‘¸ç›®æ ‡ */
  }
}

/* å¹³æ¿ç«¯å˜é‡ */
@media (min-width: 481px) and (max-width: 768px) {
  :root {
    /* ç‰Œé¢å°ºå¯¸ */
    --card-width: var(--card-width-sm);
    --card-height: var(--card-height-sm);

    /* é—´è·è°ƒæ•´ */
    --layout-padding: var(--space-4);
    --layout-gap: var(--space-5);
  }
}

/* æ¡Œé¢ç«¯å˜é‡ */
@media (min-width: 769px) and (max-width: 1280px) {
  :root {
    /* ç‰Œé¢å°ºå¯¸ */
    --card-width: 60px;
    --card-height: 84px;
  }
}

/* å¤§å±æ¡Œé¢ç«¯ */
@media (min-width: 1281px) {
  :root {
    /* ç‰Œé¢å°ºå¯¸ */
    --card-width: var(--card-width-lg);
    --card-height: var(--card-height-lg);

    /* æ›´å¤§çš„å­—ä½“ */
    --font-size-base: 1.125rem;
    --font-size-lg: 1.25rem;
    --font-size-xl: 1.5rem;
  }
}

/* =======================================
   REDUCED MOTION - å‡å°‘åŠ¨ç”»æ¨¡å¼
   ======================================= */

@media (prefers-reduced-motion: reduce) {
  :root {
    --duration-instant: 0.01ms;
    --duration-fast: 0.01ms;
    --duration-normal: 0.01ms;
    --duration-slow: 0.01ms;
    --duration-slower: 0.01ms;

    --card-transition-duration: 0.01ms;

    --animation-fade-in: none;
    --animation-slide-up: none;
    --animation-scale-in: none;
  }
}
