<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>ÊéºËõã - Áé∞‰ª£ÂåñÁïåÈù¢ÁâàÊú¨ v2.3.3</title>

       <!-- ÊéºËõãÊ∏∏Êàè - ÈáçÊûÑÂêéÁöÑCSSÊ†∑Âºè -->
      <!-- 1. CSSÂèòÈáèÁ≥ªÁªü -->
      <link rel="stylesheet" href="css/variables.css">
      <!-- 2. Âü∫Á°ÄÊ†∑Âºè -->
      <link rel="stylesheet" href="css/base.css">
      <!-- 3. Ê∏∏ÊàèÂ∏ÉÂ±Ä -->
      <link rel="stylesheet" href="css/game-layout.css">
      <!-- 4. ÂäüËÉΩÊ†∑Âºè -->
      <link rel="stylesheet" href="css/features/animations.css">
      <link rel="stylesheet" href="css/features/joker-styles.css">
      <!-- 5. ÁªÑ‰ª∂Ê†∑Âºè -->
      <link rel="stylesheet" href="css/components/cards.css">
      <link rel="stylesheet" href="css/components/player-positions.css">
      <link rel="stylesheet" href="css/components/control-panel.css">
      <link rel="stylesheet" href="css/components/level-card.css">
      <link rel="stylesheet" href="css/components/team-levels-bar.css">
      <link rel="stylesheet" href="css/components/level-display.css">
      <link rel="stylesheet" href="css/components/result-panel.css">
      <!-- 6. ÂìçÂ∫îÂºèÊ†∑Âºè -->
      <link rel="stylesheet" href="css/responsive/general.css">
      <link rel="stylesheet" href="css/responsive/mobile.css">
      <link rel="stylesheet" href="css/responsive/932x430.css">
</head>
<body>
    <!-- Âä†ËΩΩÁîªÈù¢ -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
        <div class="loading-text">Ê≠£Âú®Âä†ËΩΩÊéºËõãÊ∏∏Êàè...</div>
        <div class="loading-progress">
            <div class="loading-progress-bar" id="loadingProgress"></div>
        </div>
        <div id="loadingStatus">ÂàùÂßãÂåñÁªÑ‰ª∂‰∏≠...</div>
    </div>

    <!-- ÈîôËØØÊ∂àÊÅØ -->
    <div class="error-message" id="errorMessage">
        <h3>Âä†ËΩΩÈîôËØØ</h3>
        <p id="errorText">Ê∏∏ÊàèÁªÑ‰ª∂Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï„ÄÇ</p>
        <button onclick="location.reload()" class="btn btn-secondary">ÈáçÊñ∞Âä†ËΩΩ</button>
    </div>

    <!-- Ê∏∏Êàè‰∏ªÂÆπÂô® -->
    <div class="game-container" id="gameContainer">
        <!-- Áã¨Á´ãÊµÆÂä®ËÆæÁΩÆÊåâÈíÆ -->
        <div class="floating-settings-btn" id="floatingSettingsBtn" onclick="toggleSettingsMenu()">
            <span class="settings-icon">‚öôÔ∏è</span>
        </div>

        <!-- Ê∂àÊÅØÊèêÁ§∫Ê∞îÊ≥° -->
        <div id="messageBubble" class="message-bubble"></div>

        <!-- Â§¥Ê∏∏Áä∂ÊÄÅÊèêÁ§∫ÔºàÁã¨Á´ãÂÖÉÁ¥†Ôºâ -->
        <div id="headPlayerStatus" class="head-player-status"></div>


        <!-- ËÆ∞ÁâåÂô®ÂºπÁ™ó -->
        <div class="card-counter-modal d-none" id="cardCounterModal">
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3>ËÆ∞ÁâåÂô®</h3>
                    <button class="modal-close-btn" id="closeCardCounter">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="player-cards-list">
                        <div class="player-cards-item">
                            <span class="player-name">Âçó</span>
                            <span class="card-count">15</span>
                        </div>
                        <div class="player-cards-item">
                            <span class="player-name">Ë•ø</span>
                            <span class="card-count">27</span>
                        </div>
                        <div class="player-cards-item">
                            <span class="player-name">Âåó</span>
                            <span class="card-count">27</span>
                        </div>
                        <div class="player-cards-item">
                            <span class="player-name">‰∏ú</span>
                            <span class="card-count">27</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-backdrop" id="cardCounterBackdrop"></div>
        </div>

        <!-- Ê∏∏ÊàèÁªìÊùüÁªüËÆ°Èù¢Êùø -->
        <div class="game-result-modal d-none" id="gameResultModal">
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3>üèÜ Ê∏∏ÊàèÁªìÊùü</h3>
                    <button class="modal-close-btn" id="closeGameResult">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="result-winner"></div>
                    <div class="result-teams-level">
                        <div class="team-level team-a">
                            <span class="team-name">AÈòü</span>
                            <span class="team-level-value"></span>
                        </div>
                        <div class="vs-divider">VS</div>
                        <div class="team-level team-b">
                            <span class="team-name">BÈòü</span>
                            <span class="team-level-value"></span>
                        </div>
                    </div>
                    <div class="result-rankings"></div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="viewRecordsBtn">üìä Êü•ÁúãÊàòÁª©</button>
                    <button class="btn btn-primary" id="newGameBtn">üîÑ ÁªßÁª≠Ê∏∏Êàè</button>
                </div>
            </div>
            <div class="modal-backdrop" id="gameResultBackdrop"></div>
        </div>

        <!-- ÂéÜÂè≤ÊàòÁª©Èù¢Êùø -->
        <div class="records-modal d-none" id="recordsModal">
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3>üìä ÂéÜÂè≤ÊàòÁª©</h3>
                    <button class="modal-close-btn" id="closeRecords">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="records-summary"></div>
                    <div class="records-list"></div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-warning" id="clearRecordsBtn">üóëÔ∏è Ê∏ÖÁ©∫ËÆ∞ÂΩï</button>
                    <button class="btn btn-secondary" id="exportRecordsBtn">üì§ ÂØºÂá∫</button>
                </div>
            </div>
            <div class="modal-backdrop" id="recordsBackdrop"></div>
        </div>

        <div class="game-table">
            <!-- Èòü‰ºçÁ∫ßÊï∞ÊòæÁ§∫ - Â∑¶‰∏äËßí -->
            <div class="team-levels-bar" id="teamLevelsBar">
                <!-- AÈòü -->
                <div class="team-wrapper">
                    <div class="team-level-card team-a-card" id="teamALevelDisplay">
                        <div class="card-header">
                            <span class="team-label">ÊàëÊñπ</span>
                        </div>
                        <div class="card-body">
                            <span class="level-number" id="teamALevelNumber">2</span>
                        </div>
                    </div>
                    <div class="active-indicator active" id="teamAActiveIndicator">
                        <span class="indicator-triangle"></span>
                    </div>
                </div>

                <!-- BÈòü -->
                <div class="team-wrapper">
                    <div class="team-level-card team-b-card" id="teamBLevelDisplay">
                        <div class="card-header">
                            <span class="team-label">ÂØπÊñπ</span>
                        </div>
                        <div class="card-body">
                            <span class="level-number" id="teamBLevelNumber">2</span>
                        </div>
                    </div>
                    <div class="active-indicator" id="teamBActiveIndicator">
                        <span class="indicator-triangle"></span>
                    </div>
                </div>
            </div>

            <!-- È°∂ÈÉ®‰ø°ÊÅØÊ†è -->
            <div class="top-info-bar">
                <div class="info-display coin-display">
                    <span>üí∞</span>
                    <span id="coins">1000</span>
                </div>
                <div class="info-display level-display">
                    <span>‚≠ê</span>
                    <span id="level">ÂàùÁ∫ß</span>
                </div>
                <div class="info-display score-display">
                    <span>üèÜ</span>
                    <span id="score">1250</span>
                </div>
                <!-- ËÆæÁΩÆÊåâÈíÆ -->
                <button class="btn btn-settings" id="settingsBtn" onclick="toggleSettingsMenu()">
                    ‚öôÔ∏è
                </button>

                <!-- ËÆæÁΩÆ‰∏ãÊãâËèúÂçï -->
                <div class="settings-menu d-none" id="settingsMenu">
                    <div class="settings-item" onclick="showRecords()">
                        üèÜ ÊàòÁª©
                    </div>
                    <div class="settings-item" onclick="showGameSettings()">
                        üéØ Ê∏∏ÊàèËÆæÁΩÆ
                    </div>
                    <div class="settings-item" onclick="showAbout()">
                        ‚ÑπÔ∏è ÂÖ≥‰∫é
                    </div>
                </div>
            </div>

            <!-- È°∂ÈÉ®Âõ¢Èòü‰ø°ÊÅØÊ†è -->
            <div class="team-info-bar">
                <div class="team-info-item">
                    <div class="team-label">ÈòüÂèãÈòü (A)</div>
                    <div class="team-value team-a" id="teamACards">54Âº†</div>
                </div>
                <div class="team-info-item">
                    <div class="team-label">ÂØπÊâãÈòü (B)</div>
                    <div class="team-value team-b" id="teamBCards">54Âº†</div>
                </div>
                <div class="team-info-item">
                    <div class="team-label">ÂΩìÂâçÁä∂ÊÄÅ</div>
                    <div class="team-value" id="gameStatus">ËøõË°å‰∏≠</div>
                </div>
            </div>

            <!-- ÂåóÊñπÁé©ÂÆ∂ÔºàÂØπÂÆ∂Ôºâ -->
            <div class="player-position player-north">
                <div class="ai-hand-cards" id="northCards">
                    <!-- AIÊâãÁâåÂè™ÊòæÁ§∫ÁâåËÉåÔºåÂ†ÜÂè†ÊïàÊûú -->
                </div>
                <!-- ÊûÅÁÆÄ‰ø°ÊÅØÈù¢Êùø -->
                <div class="player-info-simple">
                    <div class="player-avatar-simple north-avatar">
                        N
                        <span class="team-badge teammate-badge">ÈòüÂèã</span>
                        <span class="rank-badge" id="northRankBadge"></span>
                    </div>
                    <!-- ÂåóÊñπÁé©ÂÆ∂ÂÄíËÆ°Êó∂ -->
                    <div class="countdown-timer opponent-timer" id="northTimer">
                        <span class="timer-icon">‚è∞</span>
                        <span class="timer-seconds">20</span>
                    </div>
                </div>
            </div>

            <!-- Ë•øÊñπÁé©ÂÆ∂ -->
            <div class="player-position player-west">
                <!-- ÊûÅÁÆÄ‰ø°ÊÅØÈù¢Êùø - Âú®ÊâãÁâåÂ∑¶Ëæπ -->
                <div class="player-info-simple">
                    <div class="player-avatar-simple west-avatar">
                        W
                        <span class="team-badge opponent-badge">ÂØπÊâã</span>
                        <span class="rank-badge" id="westRankBadge"></span>
                    </div>
                    <!-- Ë•øÊñπÁé©ÂÆ∂ÂÄíËÆ°Êó∂ -->
                    <div class="countdown-timer opponent-timer" id="westTimer">
                        <span class="timer-icon">‚è∞</span>
                        <span class="timer-seconds">20</span>
                    </div>
                </div>
                <!-- ÊâãÁâå - Âú®Âè≥Ëæπ -->
                <div class="ai-hand-cards" id="westCards">
                    <!-- AIÊâãÁâåÂè™ÊòæÁ§∫ÁâåËÉåÔºåÂ†ÜÂè†ÊïàÊûú -->
                </div>
            </div>

            <!-- ‰∏úÊñπÁé©ÂÆ∂ -->
            <div class="player-position player-east">
                <!-- ÊûÅÁÆÄ‰ø°ÊÅØÈù¢Êùø - Âú®ÊâãÁâåÂ∑¶Ëæπ -->
                <div class="player-info-simple">
                    <div class="player-avatar-simple east-avatar">
                        E
                        <span class="team-badge opponent-badge">ÂØπÊâã</span>
                        <span class="rank-badge" id="eastRankBadge"></span>
                    </div>
                    <!-- ‰∏úÊñπÁé©ÂÆ∂ÂÄíËÆ°Êó∂ -->
                    <div class="countdown-timer opponent-timer" id="eastTimer">
                        <span class="timer-icon">‚è∞</span>
                        <span class="timer-seconds">20</span>
                    </div>
                </div>
                <!-- ÊâãÁâå - Âú®Âè≥Ëæπ -->
                <div class="ai-hand-cards" id="eastCards">
                    <!-- AIÊâãÁâåÂè™ÊòæÁ§∫ÁâåËÉåÔºåÂ†ÜÂè†ÊïàÊûú -->
                </div>
            </div>

            <!-- ÂçóÊñπÁé©ÂÆ∂ÔºàËá™Â∑±Ôºâ -->
            <div class="player-position player-south">
                <!-- ÁÆÄÊ¥ÅÂ§¥ÂÉèÈù¢Êùø - ÊâãÁâåÂ∑¶‰æß -->
                <div class="player-info-simple">
                    <div class="player-avatar-simple south-avatar">
                        S
                        <span class="rank-badge" id="southRankBadge"></span>
                    </div>
                </div>
                <!-- ‰∏ªÁé©ÂÆ∂‰ø°ÊÅØÈù¢Êùø - ÈöêËóè‰ΩÜ‰øùÁïôÂäüËÉΩ -->
                <div class="player-info main-player-info d-none" id="mainPlayerInfo">
                    <div class="player-avatar">üåü</div>
                    <div class="player-details">
                        <div class="player-name-row">
                            <div class="player-name">ÂçóÂÆ∂(‰Ω†)</div>
                            <div class="team-indicator teammate-indicator" title="ÈòüÂèã">üíö</div>
                        </div>
                        <div class="player-status">
                            <span class="card-count-info">ÊâãÁâå: <span id="southCardCountDisplay">0</span>Âº†</span>
                        </div>
                        <div class="player-status" id="mainPlayerStatus">ÂáÜÂ§á‰∏≠...</div>
                    </div>
                </div>
                <!-- ÂçóÊñπÊâãÁâå‰∏äÊñπÊìç‰ΩúÊåâÈíÆÂå∫ÂüüÔºàÁã¨Á´ãÂÆπÂô®Ôºâ -->
                <div class="hand-action-buttons">
                    <button class="btn btn-warning btn-large" id="passBtn" onclick="passTurn()" disabled>
                        ‰∏çË¶Å
                    </button>
                    <!-- ÂçóÊñπÁé©ÂÆ∂ÂÄíËÆ°Êó∂ -->
                    <div class="countdown-timer south-timer" id="southTimer">
                        <span class="timer-icon">‚è∞</span>
                        <span class="timer-seconds">20</span>
                    </div>
                    <button class="btn btn-secondary btn-large" id="hintBtn" onclick="showHint()">
                        ÊèêÁ§∫
                    </button>
                    <button class="btn btn-primary btn-large" id="playBtn" onclick="playCards()" disabled>
                        Âá∫Áâå
                    </button>
                </div>
                <div class="player-hand-cards" id="southCards">
                    <!-- Áé©ÂÆ∂ÊâãÁâåÂ†ÜÂè†ÊëÜÊîæ -->
                </div>
            </div>

            <!-- ‰∏≠Â§ÆÂá∫ÁâåÂå∫Âüü -->
            <div class="central-play-area" id="centralPlayArea">
                <!-- Âåó‰ΩçÂá∫ÁâåÁªÑ - Áã¨Á´ãÂú®È°∂ÈÉ® -->
                <div class="plays-group north-plays" id="northPlays"></div>

                <!-- Ë•ø‰ΩçÂá∫ÁâåÁªÑ - Áã¨Á´ãÂú®Â∑¶‰æß -->
                <div class="plays-group west-plays" id="westPlays"></div>

                <!-- ‰∏≠Â§ÆÁä∂ÊÄÅÊòæÁ§∫ -->
                <div id="playAreaCenter">
                    <div id="playAreaStatus"></div>
                </div>

                <!-- ‰∏ú‰ΩçÂá∫ÁâåÁªÑ - Áã¨Á´ãÂú®Âè≥‰æß -->
                <div class="plays-group east-plays" id="eastPlays"></div>

                <!-- Âçó‰ΩçÂá∫ÁâåÁªÑ - Áã¨Á´ãÂú®Â∫ïÈÉ® -->
                <div class="plays-group south-plays" id="southPlays"></div>
            </div>

            <!-- ÊéßÂà∂ÊåâÈíÆÈù¢ÊùøÔºàÁÆÄÂåñÁâàÔºâ -->
            <div class="control-panel simplified">
                <div class="control-buttons">
                    <button class="btn btn-sort" id="sortBtn" onclick="toggleSortMode()" title="ÂàáÊç¢ÊéíÂ∫èÊñπÂºè">
                        ÁâåÂûã
                    </button>
                    <button class="btn btn-restart" id="restartBtn" onclick="restartGame()">
                        üîÑ ÈáçÊñ∞ÂºÄÂßã
                    </button>
                </div>
            </div>
        </div>
    </div>

      
    <!-- ÊéßÂà∂Èù¢Êùø932x430ÈÄÇÈÖçÊ®°Âùó -->
    <script src="js/modules/ControlPanel932x430.js?v=1.0"></script>

    <!-- Ê∏∏ÊàèJavaScript -->
    <!-- ÂºïÂÖ•Â§ñÈÉ®JavaScriptÁªÑ‰ª∂ -->
    <script src="js/components/RuleEngine.js?v=2.2"></script>
    <script src="js/components/AIPlayer.js?v=2.2"></script>
    <script src="js/components/TributeSystem.js?v=1.1"></script>
    <script src="js/ui/TributePanel.js?v=1.1"></script>
    <script src="js/ui-enhancements.js?v=2.2"></script>
    <script src="js/ui/LevelDisplay.js?v=1.0"></script>

    <!-- ÂºïÂÖ•ÊµãËØïÊ°ÜÊû∂ -->
    <!-- Áîü‰∫ßÁéØÂ¢É‰∏çÈúÄË¶ÅÊµãËØïÊñá‰ª∂ÔºåÂ∑≤ÁßªÈô§ -->

    <script src="js/game-main.js?v=1.0"></script>
</body>
</html>