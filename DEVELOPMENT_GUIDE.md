# 掼蛋游戏开发指南

## 🎉 项目重构完成

项目已成功重构，删除了所有测试文件和无用文件，现在结构清晰，代码整洁。

## 🚀 快速开始

### 启动游戏
```bash
# 方式1：使用npm脚本
npm start

# 方式2：开发模式（自动打开浏览器）
npm run dev

# 方式3：直接启动服务器
node server.js

# 方式4：使用启动脚本
node start.js --open
```

### 访问游戏
- 游戏地址：http://localhost:8080/index.html
- 服务器会自动处理CORS问题
- 支持热重载，修改文件后刷新页面即可

## 📁 项目结构

```
guandan-ai-game/
├── index.html                    # 🎮 主游戏页面
├── server.js                     # 🌐 HTTP服务器
├── start.js                      # 🚀 启动脚本
├── package.json                  # 📦 项目配置
├── PROJECT_STRUCTURE.md          # 📋 项目结构说明
├── DEVELOPMENT_GUIDE.md          # 📖 开发指南
│
├── css/                          # 🎨 样式文件
│   ├── game-optimized.css        # 主游戏样式
│   ├── responsive.css            # 响应式样式
│   └── variables.css             # CSS变量
│
├── js/                           # 💻 JavaScript文件
│   ├── game-engine.js            # 游戏引擎
│   └── components/               # 组件目录
│       ├── AIPlayer.js           # AI玩家
│       ├── DeckManager.js        # 牌堆管理
│       ├── GameUI.js             # 游戏界面
│       ├── PlayerManager.js      # 玩家管理
│       └── RuleEngine.js         # 规则引擎
│
└── src/                          # 📂 模块化源代码
    ├── core/                     # 核心模块
    ├── games/guandan/            # 掼蛋规则
    └── ui/                       # 用户界面
```

## ✅ 当前功能状态

### 已完成功能
- [x] **游戏界面**：完整的掼蛋游戏界面，四人布局
- [x] **静态界面**：移除所有动画效果，界面完全静态
- [x] **基础游戏逻辑**：发牌、出牌、轮次管理
- [x] **AI系统**：基础AI自动出牌
- [x] **规则引擎**：基础牌型识别和验证
- [x] **服务器**：本地开发服务器，解决CORS问题

### 需要完善的功能
- [ ] **完整规则**：顺子、连对、炸弹等复杂牌型
- [ ] **AI智能**：更智能的出牌策略和记牌功能
- [ ] **游戏状态**：胜负判断、升级机制
- [ ] **用户体验**：提示系统、音效、历史记录
- [ ] **性能优化**：代码优化、内存管理

## 🎯 下一步开发计划

### 优先级1：完善核心规则 🔥
**目标**：实现完整的掼蛋规则系统

**任务清单**：
- [ ] 实现顺子识别（5张以上连续牌）
- [ ] 实现连对识别（3对以上连续对子）
- [ ] 完善炸弹规则（4张、5张、6张等）
- [ ] 添加逢人配功能（红桃级牌作为万能牌）
- [ ] 实现火箭（大小王）规则
- [ ] 完善牌型比较逻辑

**预估时间**：2-3天

### 优先级2：AI智能提升 🤖
**目标**：让AI更聪明，提供更好的游戏体验

**任务清单**：
- [ ] 改进AI出牌策略算法
- [ ] 添加记牌功能（记住已出的牌）
- [ ] 实现团队配合逻辑（队友间配合）
- [ ] 添加难度等级设置
- [ ] 优化AI决策速度

**预估时间**：3-4天

### 优先级3：游戏体验优化 🎮
**目标**：提升用户游戏体验

**任务清单**：
- [ ] 添加音效系统
- [ ] 完善提示系统（出牌提示、规则提示）
- [ ] 添加游戏设置选项
- [ ] 实现游戏历史记录
- [ ] 添加快捷键支持
- [ ] 优化移动端适配

**预估时间**：2-3天

### 优先级4：扩展功能 🌟
**目标**：添加高级功能

**任务清单**：
- [ ] 多人在线对战
- [ ] 游戏统计和排行榜
- [ ] 自定义规则设置
- [ ] 皮肤主题系统
- [ ] 成就系统

**预估时间**：5-7天

## 🛠️ 开发工具和命令

### 常用命令
```bash
# 启动开发服务器
npm start

# 开发模式（自动打开浏览器）
npm run dev

# 构建生产版本
npm run build

# 启动生产服务器
npm run serve
```

### 开发工具
- **编辑器**：推荐使用VSCode
- **浏览器**：Chrome/Firefox（支持开发者工具）
- **调试**：浏览器开发者工具
- **版本控制**：Git

## 📝 代码规范

### JavaScript
- 使用ES6+语法
- 采用模块化设计
- 添加详细注释
- 遵循驼峰命名法

### CSS
- 使用CSS变量
- 采用BEM命名规范
- 响应式设计优先
- 避免内联样式

### HTML
- 语义化标签
- 无障碍访问支持
- SEO友好

## 🐛 调试技巧

### 常见问题
1. **CORS错误**：使用内置服务器启动游戏
2. **模块加载失败**：检查文件路径和引用
3. **AI不出牌**：查看浏览器控制台错误信息
4. **界面显示异常**：检查CSS文件是否正确加载

### 调试方法
- 使用`console.log()`输出调试信息
- 利用浏览器开发者工具
- 检查网络请求状态
- 查看控制台错误信息

## 🤝 贡献指南

### 开发流程
1. 创建功能分支
2. 编写代码和测试
3. 提交代码并推送
4. 创建Pull Request
5. 代码审查和合并

### 提交规范
```
feat: 添加新功能
fix: 修复bug
docs: 更新文档
style: 代码格式调整
refactor: 代码重构
test: 添加测试
chore: 构建工具或辅助工具的变动
```

## 📚 参考资料

- [掼蛋规则详解](https://baike.baidu.com/item/掼蛋)
- [JavaScript ES6+语法](https://es6.ruanyifeng.com/)
- [CSS Grid布局](https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Grid_Layout)
- [Web API文档](https://developer.mozilla.org/zh-CN/docs/Web/API)

---

**项目状态**：✅ 重构完成，可以开始下一阶段开发
**最后更新**：2025年12月4日
**维护者**：开发团队
